

<template name="highlightsEditor">
  <div id="highlightsEditor">
    
    {{#if show}}
      {{> highlightsEditorForm}}
    {{/if}}
    
    <div class="toolbar btn-toolbar">
      <div class="btn-group">
        <button class="btn btn-small btn-inverse light" action="add"><span class="icon-plus icon-white"></span></button>
      </div>
      {{#if selectedHighlight}}
        {{#if IsForeignCity selectedHighlight.city}}
          <div class="btn-group">
            {{#if hiddenHighlight}}
              <button class="btn disabled" action="visibility" toggle="on"><span class="icon icon-white icon-eye-close"></span> Hidden</button>
            {{else}}
              <button class="btn" action="visibility" toggle="off"><span class="icon icon-white icon-ban-circle"></span> Hide</button>
            {{/if}}
          </div>
        {{else}}
          <div class="btn-group">
            <button class="btn btn-small btn-inverse light" action="update"><span class="icon-pencil icon-white"></span> Edit</button>
          </div>
        {{/if}}
      {{/if}}
    </div>

  </div>
</template>

<template name="highlightsEditorForm">
  <div class="form">
    {{#autoForm id="highlightsEditorForm" collection="Highlights" type=mode doc=selectedDoc}}
    {{> afQuickField name="title" id="title"}}
    {{> afQuickField name="subtitle" id="substitle"}}
    {{> afQuickField name="imageUrl" id="imageUrl"}}
    {{> afQuickField name="website" id="website"}}
    {{> afQuickField name="global" id="global"}}
    <div class="buttons">
      <button type="submit" class="btn btn-small btn-primary">Save</button>
      {{#if equals mode 'update'}}
        <a href="#" action="remove" class="btn btn-small btn-inverse light pull-right"><span class="icon icon-white icon-trash "></span></a>
      {{/if}}
      <a href="#" action="cancel" class="btn btn-small btn-inverse light pull-right">Cancel</a>
    </div>
    {{/autoForm}}
  </div>
</template>