<template name="hackers">
  <div id="hackers" class="page">


    {{> hackersFilter}}

    <div class="total">
      <strong>{{totalHackers}}</strong> hackers in {{CurrentCity.name}} 
      {{#if hacking}}are hacking {{{hacking}}}{{/if}}<br/>
      {{#if skills}}with programming skills {{{skills}}}{{/if}}
    </div>
    
    {{#each hackerViews}}
      {{> hackersEntry}}    
    {{/each}}
   
    <div class="clear"></div>
    

    {{> invitations_partial}}
    {{> hackersToolbar}}

    <div class="page-space"></div>
  </div>
</template>

<template name="hackersEntry">
  <div class="hacker">
    <a class="hackers-name pictureViewLink" href="{{pathFor 'hacker'}}" {{foreign}}>
      <div style="background-image:url({{profile.picture}});transition-delay:{{transitionDelay}}s;" class="pictureView route-transition" {{foreign}} label="{{label}}"></div>
      {{profile.name}}
    </a>
    <br/>
  </div>
</template>

<template name="hackersFilter">
  <div id="hackersFilter">
    <form id="hackersFilterForm">
      
      <select name="filter" class="chosen-select" multiple data-placeholder=" filter hackers" >
        <optgroup label="Hacking">
          {{#each Constant "HACKING_OPTIONS"}}
            <option value="hacking-{{value}}" {{selectedHacking}}>{{label}}</option>
          {{/each}}    
        </optgroup>
        <optgroup label="Skills">
          {{#each Constant "SKILLS"}}
            <option value="skill-{{name}}" {{selectedSkill}}>{{name}}</option>
          {{/each}}  
        </optgroup>
      </select>

    </form>
  </div>
</template>

<template name="hackersToolbar">
  <div id="hackersToolbar">
    {{!-- hier kan de status-toolbar komen --}}
    <br/><br/>
    <div id="hackersNewsletterEditor">
      {{#autoForm id="hackersNewsletterEditorForm" schema=schema type="method" meteormethod=method resetOnSuccess=false}}
        {{#afFieldSelect name="group" id="group"}}
          <option value="local_admin_messages">local admin messages</option>
          <option value="local_meetup_announcements">local meetup announcements</option>
          <option value="event_announcements">event announcements</option>
        {{/afFieldSelect}}
        {{> afQuickField name="subject" id="subject"}}
        {{> afQuickField name="message" id="message" rows="15"}}
        <button type="button" class="btn">Cancel</button>
        <button type="submit" class="btn btn-default btn-info">Send me a preview</button>
      {{/autoForm}}
    </div>
  </div>
</template>