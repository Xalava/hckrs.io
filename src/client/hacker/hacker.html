
<template name="hacker">
  {{! view a hacker's profile and include editing functionality when visiting your own profile }}

  {{#with hacker}}
    {{#if hackerIsCurrentUser}}
      {{> hackerEdit}}
    {{else}}
      {{> hackerView}}
    {{/if}}
  {{/with}}
</template>

<template name="hackerEdit">
  <h3>Profile of {{profile.name}}</h3>
  <div id="hacker" class="row row-fluid">
    <div class="span6">
      
      <form class="form-horizontal">

        <img src="{{profile.picture}}" class="hacker-picture" alt="" />    
    
        <div class="control-group">
          <label class="control-label" for="inputName">Name</label>
          <div class="controls">
            <input type="text" name="name" data-field="profile.name" class="text save {{dynamicClass 'inputName'}}" value="{{profile.name}}" placeholder="full name" id="inputName" />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputEmail">Email</label>
          <div class="controls">
            <input type="email" name="email" data-field="profile.email" class="text save {{dynamicClass 'inputEmail'}}" value="{{profile.email}}" placeholder="e-mailaddress" id="inputEmail" />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputAddress">Address</label>
          <div class="controls">
              <input type="text" class="text addresspicker" value="{{profile.address.text}}" placeholder="address" autocomplete="off" id="inputAddress" />
              {{#constant}}
              <div id="map"></div>
              {{/constant}}  
          </div>
        </div>
  
        <div class="control-group">
          <label class="control-label">Facebook</label>
          <div class="controls">
            {{#if profile.social.facebook}}
              <a href="{{profile.social.facebook}}" target="_blank">{{profile.social.facebook}}</a>
            {{else}}
              <a href="#" id="addFacebookButton">add facebook</a>
            {{/if}}
          </div>
        </div>
        <div class="control-group">
          <label class="control-label">Github</label>
          <div class="controls">
            {{#if profile.social.github}}
              <a href="{{profile.social.github}}" target="_blank">{{profile.social.github}}</a>
            {{else}}
              <a href="#" id="addGithubButton">add github</a>
            {{/if}}
          </div>
        </div>
        <div class="control-group">
          <label class="control-label">Twitter</label>
          <div class="controls">
            {{#if profile.social.twitter}}
              <a href="{{profile.social.twitter}}" target="_blank">{{profile.social.twitter}}</a>
            {{else}}
              <a href="#" id="addTwitterButton">add twitter</a>
            {{/if}}
          </div>
        </div>

      </form>
    
    </div>
    <div class="span6">
      {{> editSkills}}
    </div>

  </div>
</template>

<template name="hackerView">
  <h3>Profile of {{profile.name}}</h3>
  <div id="hacker" class="row row-fluid">

    <div class="span6">
      <dl style="text-align:left;">
        <dt>picture</dt>
        <dd><a href="{{pathFor 'hacker'}}"><img src="{{profile.picture}}" class="hacker-picture" alt="{{profile.name}}" /></a></dd>

        <dt>name</dt>
        <dd>{{profile.name}}</dd>

        <dt>e-mailaddresses</dt>
        <dd>
          <a href="mailto:{{profile.email}}">{{profile.email}}</a>
        </dd>

        {{#if profile.social.facebook}}
          <dt>facebook</dt>
          <dd>
            <a href="{{profile.social.facebook}}" target="_blank">{{profile.social.facebook}}</a>
          </dd>
        {{/if}}

        {{#if profile.social.github}}
          <dt>github</dt>
          <dd>
            <a href="{{profile.social.github}}" target="_blank">{{profile.social.github}}</a>
          </dd>
        {{/if}}

        {{#if profile.social.twitter}}
          <dt>twitter</dt>
          <dd>
            <a href="{{profile.social.twitter}}" target="_blank">{{profile.social.twitter}}</a>
          </dd>
        {{/if}}
      </dl>
    </div>

    <div class="span6">
      {{> skills}}
    </div>

  </div>
</template>
