
<template name="hacker">
  {{! view a hacker's profile and include editing functionality when visiting your own profile }}

  {{#with hacker}}
    {{#if hackerIsCurrentUser}}
      {{> hackerEdit}}
    {{else}}
      {{> hackerView}}
    {{/if}}
  {{/with}}
</template>

<template name="hackerEdit">
  <div id="hacker">



      
      <form class="form-horizontal">


        <div class="control-group">
          <div class="control-label">

            <div id="profilePicture">
              <div class="current-picture">
                <div class="change hide">change</div>
                {{#constant}}
                  <div style="background-image:url({{profile.picture}});" class="picture"></div>    
                {{/constant}}
              </div>
              <div class="picture-choser {{dynamicClass 'pictureChoser'}}" id="pictureChoser">
                {{#with profile.socialPicture}}
                  {{#if facebook}}
                    <label for="inputPictureFacebook" class="radio">
                      <div style="background-image:url({{facebook}});" class="picture"></div>    
                      <div class="label-text">
                        <input type="radio" name="picture" value="{{facebook}}" id="inputPictureFacebook" class="imputPictureRadio" {{selected facebook}} />
                        Facebook
                      </div>
                    </label>
                  {{/if}}
                  {{#if twitter}}
                    <label for="inputPictureTwitter" class="radio">
                      <div style="background-image:url({{twitter}});" class="picture"></div>    
                      <div class="label-text">
                        <input type="radio" name="picture" value="{{twitter}}" id="inputPictureTwitter" class="imputPictureRadio" {{selected twitter}} />
                        Twitter
                      </div>
                    </label>
                  {{/if}}
                  {{#if github}}
                    <label for="inputPictureGithub" class="radio">
                      <div style="background-image:url({{github}});" class="picture"></div>    
                      <div class="label-text">
                        <input type="radio" name="picture" value="{{github}}" id="inputPictureGithub" class="imputPictureRadio" {{selected github}} />
                        Github
                      </div>
                    </label>
                  {{/if}}
                {{/with}}
                <div class="clear"></div>
              </div>
            </div>

          </div>
          <div class="controls" style="padding-top:68px;">
            <input id="text" type="text" name="profile.name" class="text save {{dynamicClass 'inputName'}}" value="{{profile.name}}" placeholder="full name" id="inputName" style="font-size:36px;font-weight:700;padding:12px;border-radius: 24px;padding: 12px 21px; width:350px; line-height:30px;"/>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label" for="inputEmail">email</label>
          <div class="controls">
            <input type="email" name="profile.email" class="text save {{dynamicClass 'inputEmail'}}" value="{{profile.email}}" placeholder="e-mailaddress" id="inputEmail" />
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">hacking</label>
          <div class="controls">
            <label for="inputHackingWeb" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingWeb" value="web" {{checked "profile.hacking" "web"}} />
              web
            </label>
            <label for="inputHackingApp" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingApp" value="apps" {{checked "profile.hacking" "apps"}} />
              apps
            </label>
            <label for="inputHackingSoftware" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingSoftware" value="software" {{checked "profile.hacking" "software"}} />
              software
            </label>
            <label for="inputHackingGame" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingGame" value="game" {{checked "profile.hacking" "game"}} />
              games
            </label>
            <label for="inputHackingDesign" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingDesign" value="design" {{checked "profile.hacking" "design"}} />
              design
            </label>
            <label for="inputHackingLife" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingLife" value="life" {{checked "profile.hacking" "life"}} />
              life
            </label>
            <label for="inputHackingHardware" class="checkbox">
              <input type="checkbox" name="profile.hacking" class="save" id="inputHackingHardware" value="hardware" {{checked "profile.hacking" "hardware"}} />
              hardware
            </label>
          </div>
        </div>
        <div class="control-group">
          <label class="control-label" for="inputSkills">skillset</label>
          <div class="controls">
            {{> editSkills}}
          </div>
        </div>


        <div class="control-group">
          <label class="control-label" for="inputCompany">company</label>
          <div class="controls">
            <input type="text" name="profile.company" class="text save" value="{{profile.company}}" placeholder="name" id="inputCompany" /><br>
            <input type="text" name="profile.companyUrl" class="text save" value="{{profile.companyUrl}}" placeholder="http://" style="" />
          </div>
        </div>

        <div class="control-group">
          <label class="control-label" style="margin-top: -10px;">main location</label>
          <div class="controls">
              <div id="mapWrapper"> 
                {{#constant}}
                <div id="map"></div>
                {{/constant}}  
              </div>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">available to</label>
          <div class="controls">
            <label for="inputAvailableDrink" class="checkbox">
              <input type="checkbox" name="profile.available" class="save" id="inputAvailableDrink" value="drink" {{checked "profile.available" "drink"}} />
              having drinks
            </label>
                    <div style="clear:both;"></div>

            <label for="inputAvailableLunch" class="checkbox">
              <input type="checkbox" name="profile.available" class="save" id="inputAvailableLunch" value="lunch" {{checked "profile.available" "lunch"}} />
              having lunch
            </label>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label" for="inputHomepage">homepage</label>
          <div class="controls">
            <input type="text" name="profile.homepage" class="text save {{dynamicClass 'inputHomepage'}}" value="{{profile.homepage}}" placeholder="http://" id="inputHomepage" />
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Facebook</label>
          <div class="controls">
            {{#if profile.social.facebook}}
              <a href="{{profile.social.facebook}}" target="_blank">{{profile.social.facebook}}</a> –
              <a href="#" class="toggleService" data-service="facebook">logout</a>
            {{else}}
              <a href="#" class="toggleService" data-service="facebook">connect</a>
            {{/if}}
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Twitter</label>
          <div class="controls">
            {{#if profile.social.twitter}}
              <a href="{{profile.social.twitter}}" target="_blank">{{profile.social.twitter}}</a> –
              <a href="#" class="toggleService" data-service="twitter">logout</a>
            {{else}}
              <a href="#" class="toggleService" data-service="twitter">connect</a>
            {{/if}}
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">GitHub</label>
          <div class="controls">
            {{#if profile.social.github}}
              <a href="{{profile.social.github}}" target="_blank">{{profile.social.github}}</a> –
              <a href="#" class="toggleService" data-service="github">logout</a>
            {{else}}
              <a href="#" class="toggleService" data-service="github">connect</a>
            {{/if}}
          </div>
        </div>

      </form>

      <div class="overlay">
          <div class="txt">Overlay</div>
      </div>


  </div>
</template>

<template name="hackerView">
  <div id="hacker" class="">
      <dl style="text-align:left;">

        <div style="background-image:url({{profile.picture}});margin: 0px; float:left;" class="pictureView"></div>
        <div class="headline">
          <div class="name">{{profile.name}}</div>
          {{#if profile.hacking}}
            <div class="hacking-container">
              {{#each profile.hacking}}
                <div class="hacking-tag">{{this}}</div>
              {{/each}}
            <div class="hacker-number">Lyon's 13th hacker</div>
            </div>
          {{/if}}
        </div>
        
        <div style="clear:both;"></div>

        <div class="line" style="margin-bottom:100px;">
          <div class="handle">
            skillset
          </div>
          <div class="output">
            {{> skills}}
          </div>
        </div>

        {{#if profile.homepage}}
        <div class="line">
          <div class="handle">
            homepage
          </div>
          <div class="output">
            <a href="{{profile.homepage}}" target="_blank">{{profile.homepage}}</a>
          </div>
        </div>
        {{/if}}

        {{#if profile.social.facebook}}
        <div class="line">
          <div class="handle">
            Facebook
          </div>
          <div class="output">
            <a href="{{profile.social.facebook}}" target="_blank">{{profile.social.facebook}}</a>  
          </div>
        </div>
        {{/if}}

        {{#if profile.social.github}}
        <div class="line">
          <div class="handle">
            GitHub
          </div>
          <div class="output">
            <a href="{{profile.social.github}}" target="_blank">{{profile.social.github}}</a>
          </div>
        </div>
        {{/if}}

        {{#if profile.social.twitter}}
        <div class="line">
          <div class="handle">
            Twitter
          </div>
          <div class="output">
            <a href="{{profile.social.twitter}}" target="_blank">{{profile.social.twitter}}</a>
          </div>
        </div>
        {{/if}}

        {{#if profile.company}}
        <div class="line" style="margin-top:100px;">
          <div class="handle">
            company
          </div>
          <div class="output">
            <a href="{{profile.companyUrl}}" target="_blank">{{profile.company}}</a>
          </div>
        </div>
        {{/if}}

        <div class="line">
          <div class="handle">
            main location
          </div>
          <div class="output">
            <div id="mapWrapper" style="background-color: rgba(0,0,0,0.2); margin-top:10px; margin-bottom:18px;"></div>
          </div>
        </div>

        
        {{#if profile.available}}
        <div class="line">
          <div class="handle">
            available to
          </div>
          <div class="output">
            {{#if contains profile.available "drink"}}
            <a href="mailto:{{profile.email}}?subject=Lets drink something&body=My profile : {{urlCurrentUser}}" class="btn btn-inverse available">have a drink</a>
            {{/if}}
            {{#if contains profile.available "lunch"}}
            <a href="mailto:{{profile.email}}?subject=Lets have lunch&body=My profile : {{urlCurrentUser}}" class="btn btn-inverse available">have lunch</a>
            {{/if}}
          </div>
        </div>
        {{/if}}


      </dl>

  </div>
</template>
