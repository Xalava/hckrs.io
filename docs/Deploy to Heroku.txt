
(always perform terminal commands from the app root folder)


INSTALL HEROKU command line tools

1. download heroku toolbelt (https://toolbelt.heroku.com)

$ heroku login



--------- SINGLE ENVIRONMENT ------------


CREATE APP

$ heroku apps:create hckrs --stack cedar --buildpack https://github.com/oortcloud/heroku-buildpack-meteorite.git

$ heroku config:add ROOT_URL="http://hckrs.io"

$ heroku labs:enable websockets -a hckrs

$ heroku addons:add newrelic:stark



UPDATE APP (+ reload settings file)

$ git push heroku master && heroku config:add METEOR_SETTINGS="`cat settings-production.json`"





--------- MULTIPLE ENVIRONMENTS ------------


DOCUMENTATION
https://devcenter.heroku.com/articles/multiple-environments



RENAME (rename the original remote repository from 'heroku' to 'production')

$ git remote rename heroku production



CREATE APP (create second app and call the remote repository 'staging')

$ heroku apps:create hckrs-staging --stack cedar --buildpack https://github.com/oortcloud/heroku-buildpack-meteorite.git --remote staging

$ heroku config:add ROOT_URL="http://staging.hckrs.io" --remote staging

$ heroku labs:enable websockets -a hckrs-staging

($ heroku addons:add newrelic:stark --remote staging)



UPDATE 'staging' APP

$ git push staging master && heroku config:add METEOR_SETTINGS="`cat settings-staging.json`" --remote staging


UPDATE 'production' APP (!!!)

$ git push production master && heroku config:add METEOR_SETTINGS="`cat settings-production.json`" --remote production




